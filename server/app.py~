import sys
import os
from flask import Flask
from flask import request

# Move to the directory that contains the interfacing script to import it
# (I'm actually pretty proud of this line because it means I can call server.py from anywhere)
sys.path.append(os.path.join(os.path.dirname(__file__),'..','peer-mentoring-app-interface'))
import myscript

# Create the application
#
app = Flask(__name__)

# Default URL operations
#
@app.route('/')
def home_page():
    # Print simple welcome message
    #
    return 'Welcome to Peer-Mentoring App\n'

@app.route('/data/', methods=['POST', 'GET'])
def data():
    
    # Data directory welcome message
    #
    print "Welcome to data"

    if request.method == 'GET':
        return  myscript.data()

    else:
        # Print the info trying to be posted
        #
        return request.get_json()

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=22000, debug=True)
    
